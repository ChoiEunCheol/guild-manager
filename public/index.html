<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>길드 명부</title>
</head>

<body>
    <h1>Main Member Data</h1>
    <div id="dataContainer"></div>
    
    <script>
    // 데이터를 가져와서 브라우저에 출력하는 함수
    async function fetchData() {
      try {
        // 서버에 데이터 요청
        const response = await fetch('http://localhost:3000/api/getMainMemberData');
        const data = await response.json();
    
        // 결과를 브라우저에 출력
        const dataContainer = document.getElementById('dataContainer');
        data.forEach(row => {
          const entryElement = document.createElement('p');
          for (const key in row) {
            if (row.hasOwnProperty(key)) {
              entryElement.textContent += `${key}: ${row[key]} | `;
            }
          }
          dataContainer.appendChild(entryElement);
        });
      } catch (error) {
        console.error('Error fetching data:', error);
      }
    }
    
    // 페이지 로드 시 데이터 가져오기
    window.onload = fetchData;
    </script>
    
</body>
</html>